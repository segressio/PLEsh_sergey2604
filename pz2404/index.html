<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="calculator">
        <!-- Screen and clear key -->
        <div class="top">
            <span class="clear">C</span>
            <div class="screen"></div>
        </div>
        
        <div class="keys">
         
            <span class="numeral">0</span>
            <span class="numeral">1</span>
            <span class="numeral">2</span>
            <span class="operator">+</span>
            <span class="numeral">3</span>
            <span class="numeral">4</span>
            <span class="numeral">5</span>
            <span class="operator">-</span>
            <span class="numeral">6</span>
            <span class="numeral">7</span>
            <span class="numeral">8</span>
            <span class="operator">/</span>
            <span class="numeral">9</span>
            <span class="numeral">.</span>
            <span class="eval">=</span>
            <span class="operator">*</span>
        </div>
      
    </div>
    <script>

let numButtons = document.querySelectorAll(".numeral");
let actButtons = document.querySelectorAll(".operator");
let screen = document.querySelector(".screen");
let ravno = document.querySelector('.eval');
let history = [];

let clear=document.querySelector('.clear');
clear.addEventListener("click",function(e){screen.textContent="";history=[];});

numButtons.forEach(element => {
    element.addEventListener("click",function(e){addNumber(e);});
});

actButtons.forEach(element => {
    element.addEventListener("click",function(e){addAction(e);});
});
        

function addNumber(e)
{
	if ((screen.textContent==""&&e.target.textContent=="0")==false)
	{
screen.textContent+=e.target.textContent;
history.push(e.target.textContent);

}
}

function addAction(e)
{

	
	if ((screen.textContent==""&&e.target.textContent=="-")||/^([0-9]+)([.,]?)([0-9]*)$/.test(history[history.length-1])){
    screen.textContent+=e.target.textContent;
    history.push(e.target.textContent);
}
    
   
}
ravno.addEventListener("click",function(){

history=[];
    screen.textContent= eval(screen.textContent);
    if (history.indexOf("/")!=-1)
    {
    	screen.textContent= parseFloat(screen.textContent).toFixed(2);
    }

})


    </script>

<script src="main.js"></script>
</body>
</html>